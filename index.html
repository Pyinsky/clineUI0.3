<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <title>StockArt - AI-Powered Stock Analysis</title>
    <meta name="description" content="Advanced AI-powered stock analysis and market research platform. Get real-time insights, portfolio analysis, and investment recommendations.">
    
    <!-- Mobile Optimization -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="StockArt">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#0f0f0f">

    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/responsive.css">
    <link rel="stylesheet" href="styles/animations.css">
    <!-- Note: signin-modal.css might be merged or kept if its styles are distinct enough -->
    <link rel="stylesheet" href="styles/signin-modal.css"> 

    <!-- Favicon -->
    <!-- <link rel="icon" href="assets/icons/favicon.ico" sizes="any"> -->
    <!-- <link rel="icon" href="assets/icons/favicon.svg" type="image/svg+xml"> -->
    <!-- <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png"> -->

</head>
<body class="dark-theme">
    <div id="app">
        <!-- Sidebar Navigation (Perplexity Style) -->
        <aside id="sidebar" class="sidebar collapsed">
            <div class="sidebar-header">
                <a href="/" class="sidebar-logo-link" aria-label="StockArt Home">
                    <!-- SVG icon for StockArt - to be defined or use a simple one -->
                    <svg class="logo-icon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                    </svg>
                </a>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-tooltip="Home">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    <span class="label">Home</span>
                </a>
                <a href="#" class="nav-item" data-tooltip="Discover">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                    <span class="label">Discover</span>
                </a>
                <a href="#" class="nav-item" data-tooltip="Spaces">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect></svg>
                    <span class="label">Spaces</span>
                </a>
                <a href="#" class="nav-item" data-tooltip="Library">
                     <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
                    <span class="label">Library</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <button class="sidebar-signin-btn" id="signInTriggerSidebar" data-tooltip="Sign In">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                    <span class="label">Sign In</span>
                </button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main id="main-content" class="main-content">
            <!-- Initial View: Centered Logo, Search, Quick Actions -->
            <div id="initial-view" class="initial-view">
                <div class="main-logo-container">
                    <h1 class="main-logo-text">StockArt</h1>
                    <p class="main-logo-subtitle">AI-Powered Stock Analysis Tool</p>
                </div>

                <div id="search-box-container" class="search-box-container initial-pos">
                    <div class="search-input-wrapper">
                        <svg class="search-icon-prefix" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                        <input type="text" id="mainSearchInput" class="main-search-input" placeholder="Which stock are you looking for ...">
                        <div class="search-actions-suffix">
                            <button class="search-action-btn" id="attachFileBtn" aria-label="Attach file" data-tooltip="Attach File">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>
                            </button>
                            <button class="search-action-btn" id="voiceInputBtn" aria-label="Voice input" data-tooltip="Voice Input">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="22"></line></svg>
                            </button>
                        </div>
                    </div>
                </div>

            </div>

            <!-- After Search View: Top Bar, Results, Bottom Search -->
            <div id="search-results-view" class="search-results-view hidden">
                <div id="top-bar" class="top-bar">
                    <div class="top-bar-left">
                        <h1 id="user-query-display" class="user-query-display"></h1>
                    </div>
                    <div class="top-bar-right">
                        <button id="more-options-btn" class="top-bar-action-btn" aria-label="More options" data-tooltip="More options">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="1"></circle>
                                <circle cx="19" cy="12" r="1"></circle>
                                <circle cx="5" cy="12" r="1"></circle>
                            </svg>
                        </button>
                        <button id="bookmark-btn" class="top-bar-action-btn" aria-label="Bookmark" data-tooltip="Bookmark">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
                            </svg>
                        </button>
                        <button id="share-results-btn" class="top-bar-action-btn share-btn" aria-label="Share results" data-tooltip="Share">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                                <polyline points="16 6 12 2 8 6"></polyline>
                                <line x1="12" y1="2" x2="12" y2="15"></line>
                            </svg>
                            <span>Share</span>
                        </button>
                    </div>
                </div>
                <div id="chat-messages-container" class="chat-messages-container">
                    <!-- Messages will be appended here -->
                </div>
                <div id="bottom-search-box-placeholder" class="bottom-search-box-placeholder">
                    <!-- Search box will be moved here when active -->
                </div>
            </div>
        </main>

        <!-- Floating Sign-In Modal -->
        <div id="signinModal" class="signin-modal" style="display: none;">
            <div id="signinBackdrop" class="signin-backdrop"></div>
            <div class="signin-content">
                <button id="closeSigninBtn" class="close-btn" aria-label="Close sign in modal">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
                <div class="signin-header">
                    <svg class="modal-logo-icon" width="28" height="28" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path></svg>
                    <h2>Sign in or create an account</h2>
                    <p>Unlock Pro Search and History</p>
                </div>
                <div class="signin-body">
                    <button id="googleSigninBtn" class="social-signin-btn google-btn">
                        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="#4285F4" d="M21.35 11.1h-9.03v2.79h5.18c-.22 1.07-.86 2.01-1.81 2.63v1.89h2.44c1.43-1.32 2.26-3.26 2.26-5.42 0-.81-.07-1.51-.21-2.29z"></path><path fill="#34A853" d="M12.32 22c2.39 0 4.38-.78 5.84-2.12l-2.44-1.89c-.79.53-1.8.85-2.9.85-2.22 0-4.1-1.49-4.77-3.51h-2.52v1.96c1.19 2.36 3.74 3.97 6.83 3.97z"></path><path fill="#FBBC05" d="M7.55 14.29c-.17-.51-.26-1.05-.26-1.61s.09-1.1.26-1.61V9.11H5.03c-.39.78-.61 1.64-.61 2.57s.22 1.79.61 2.57l2.52-1.96z"></path><path fill="#EA4335" d="M12.32 6.18c1.31 0 2.3.45 3.16 1.19l2.05-2.05C16.09 3.39 14.09 2 11.82 2 8.73 2 6.18 3.61 5.03 5.97l2.52 1.96c.67-2.02 2.55-3.51 4.77-3.51z"></path></svg>
                        <span>Continue with Google</span>
                    </button>
                    <button id="appleSigninBtn" class="social-signin-btn apple-btn">
                        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M17.42 14.09c-.05.01-.09.02-.14.02-.61 0-1.2-.23-1.7-.67-.5-.43-.91-.94-1.22-1.52h-.01c-.29.58-.71 1.1-1.21 1.52-.51.44-1.1.67-1.71.67-.05 0-.09-.01-.14-.02C9.41 14.02 7.53 13.11 6.23 11.4c-1.1-1.45-1.65-3.2-1.62-4.95.02-1.3.41-2.45 1.18-3.45.7-.91 1.61-1.54 2.73-1.9.59-.19 1.27-.21 1.95-.05.06.01.12.03.17.05.03-.02.07-.03.1-.03.61-.17 1.3-.17 1.96.01.05.01.09.02.14.04.02-.01.05-.03.07-.04 1.12.36 2.03.99 2.73 1.9.77 1 1.16 2.15 1.18 3.45.03 1.75-.52 3.5-1.62 4.95-1.3 1.71-3.18 2.62-4.85 2.69zm.99-6.95c.02-.09.03-.18.03-.28 0-.87-.3-1.64-.89-2.3-.52-.6-.93-.91-1.21-1.11-.06-.04-.12-.08-.19-.11-.01 0-.02.01-.02.01-.11.06-.23.1-.35.13-.31.06-.69.06-.98-.01-.13-.03-.25-.07-.36-.12l-.02-.01c-.07.03-.13.07-.19.11-.28.2-.69.51-1.21 1.11-.59.66-.89 1.43-.89 2.3 0 .1.01.19.03.28.89-.47 1.87-.72 2.93-.72.01 0 .01 0 .02 0 .01 0 .01 0 .02 0 1.06 0 2.04.25 2.93.72z"></path></svg>
                        <span>Continue with Apple</span>
                    </button>
                    <div class="email-signin-divider">
                        <span>or</span>
                    </div>
                    <form id="emailForm" class="email-form">
                        <input type="email" id="emailInput" class="signin-email-input" placeholder="Enter your email" required>
                        <button type="submit" class="email-btn">Continue with email</button>
                    </form>
                </div>
                <div class="signin-footer">
                    <p>By continuing, you agree to StockArt's <a href="/terms">Terms of Service</a> and <a href="/privacy">Privacy Policy</a>.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript files -->
    <script src="scripts/main.js"></script>
    <script src="scripts/sidebar.js"></script>
    <script src="scripts/search.js"></script>
    <script src="scripts/signin-modal.js"></script>
    <script src="scripts/responsive.js"></script>
    <!-- Removed themes.js and auth.js as their functionality will be integrated or handled differently -->
</body>
</html>
